itemCode = '''8134330473
8129557204
8117734686
8117731078
8117718965
8117580568
8117577213
8117573822
8117524914
8117520163
8117512723
8116808031
8116804915
8116793102
8116622613
8116499664
8116461543
8102154566
8102148812
8063258536
8063248863
8063163060
8051853915
8039488693
8039483958
8005602640
8005551350
8005001383
8004986281
7986219815
7986204057
7986201334
7986199532
7986196861
7986188708
7986184806
7986179704
7986173927
7983779217
7983772467
7982535577
7982452511
7982241969
7977464620
7977257106
7937557349
7937555761
7937532650
7937531189
7937514600
7937512064
7937488366
7937482944
7910849038
7910836386
7899624789
7899621257
7899618239
7899614904
7899610508
7899608171
7899604963
7899599990
7899594795
7899562134
7899560450
7899558414
7899555365
7899550429
7899547623
7899545195
7899541927
7899537725
7820572417
7820558563
7820495541
7820469158
7820397854
7820383637
7820373232
7820348014
7820300711
7820255532
7789591806
7784062122
7784053989
7778605977
7743854202
7721645023
7721634787
7703243121
7702485898
7680504877
7680467769
7680346473
7680318320
7680296639
7679258101
7679251205
7625336937
7625295182
7625288898
7625279230
7625264394
7625237946
7625234178
7625206775
7625194950
7625174816
7625170063
7625135343
7625130327
7625085509
7625035510
7624968431
7624962465
7624941937
7612300732
7612300089
7612299034
7612296347
7612295388
7612294573
7612291068
7612287423
7612274255
7588004066
7587775680
7575801705
7575138323
7575132921
7575016445
7575012325
7574872705
7569484038
7567501212
7551620507
7551376950
7551221953
7544613855
7544283806
7540014242
7539839865
7539793630
7539741589
7539650373
7525266854
7525136716
7524944539
7524684323
7514594597
7514385291
7510538613
7510534721
7510521682
7510502061
7510497195
7510474088
7451347703
7445422019
7414223074
7413320451
7413313673
7361654104
7361633530
7336689303
7323280288
7317134797
7315927364
7315667662
7291394698
7290704085
7289510804
7289505192
7277091629
7276783771
7276604428
7276480943
7276266574
7276253930
7271005968
7270562023
7270495209
7189805209
7119290084
7108612006
7081261393
7077430534
7077095306
7076647424
7073104974
7060497208
7060494192
7060489090
7060474542
7060472643
7060442071
7060440344
7060435833
7060416557
7060412860
7060404308
7020108439
7019837861
7019387445
7015809330
7004595217
7004138579
7004132680
7004124486
7003995533
7003993332
7003990210
7003952922
7003949271
6999798110
6999794392
6999791151
6999781758
6999775360
6999768065
6999251426
6999232357
6999037144
6999028723
6970040459
6970027826
6970018287
6937684624
6929846565
6929843585
6918918352
6918895602
6918882420
6910764676
6907080489
6877379039
6873140185
6861704215
6861698292
6861695711
6853827026
6853818642
6853814811
6853805802
6853799294
6853794548
6853735343
6834690454
6834683839
6822209555
6780156007
6780135556
6779898289
6748050424
6748041533
6724463008
6724375783
6720005532
6719963867
6719947040
6708068325
6708064745
6707323717
6707319396
6696466770
6696463213
6696129784
6696125803
6692401588
6692227922
6691743364
6688078478
6683990388
6683913339
6683812088
6683399112
6683397891
6683274074
6683263502
6683082151
6668181729
6664311805
6601547735
6601007356
6600999033
6600987525
6596480656
6593051780
6592822088
6592813081
6592379760
6581245831
6581174388
6580885122
6576547781
6566804454
6562882039
6562698741
6545636998
6545632884
6545627853
6541104683
6541102365
6541092106
6541088519
6541084869
6536935397
6536930120
6536924763
6536918502
6536896940
6532528771
6532513363
6531699785
6531677239
6520695639
6520690982
6510886406
6507139169
6502270628
6474242315
6474209574
6474166540
6428783259
6428780215
6428776010
6428773062
6428756710
6428750673
6428747495
6428706522
6428700734
6428696008
6428692519
6428686038
6419980764
6395721345
6395715499
6395710838
6373556274
6373540314
6373528477
6373521572
6373518988
6373516508
6373513838
6373506257
6373497427
6373494527
6355294618
6355290255
6355286690
6355282939
6355276763
6355271432
6355263672
6355246975
6332853713
6332848844
6332835121
6332819518
6332809148
6332799284
6299968780
6299944848
6285628369
6285602478
6285597223
6285591519
6285584337
6285578092
6280462673
6272046509
6257105301
6257096171
6204861394
6204857436
6187845978
6156829129
6156823288
6156816950
6156810446
6156668940
6156657671
6139254992
6139251602
6139248486
6139230706
6139227693
6113864946
6113856491
6113849715
6110884979
6102902314
6102887046
6079752429
6062916363
6062910732
6062904899
6062898281
6043138136
6040554577
6040552030
6040546430
6040531830
6040359807
6040343715
6032193042
6032140925
6000864016
6000858721
5980091056
5975053239
5974811363
5964772592
5964769967
5963333950
5963320054
5963302447
5962782926
5962776140
5962443411
5962428901
5960962548
5960961086
5960889864
5960888387
5940926708
5940923933
5940908088
5940893729
5940868998
5940863513
5940854583
5940830533
5940825834
5940819394
5937930802
5936667880
5936656385
5909162689
5906174758
5906170564
5906152690
5906139471
5881047238
5784698338
5759878584
5747286784
5747281711
5747272446
5744764652
5744753351
5744743562
5738967851
5738367508
5736432094
5734001778
5731581828
5731407485
5728829382
5728747743
5722566001
5720800222
5720658834
5720395682
5717589593
5715592128
5688745738
5688721323
5681067224
5673155818
5656475816
5656447534
5656433346
5656407137
5656385909
5640709621
5607492528
5607477694
5607456672
5607432083
5607419422
5607407553
5607367346
5607347332
5584703214
5569182461
5569165200
5491670986
5426424218
5380938790
5380910250
5339058021
5339053808
5339047880
5339044779
5339020336
5339015442
5339004878
5338994941'''

itemCode = itemCode.split('\n')

print(itemCode)
print(len(itemCode))


import requests
from bs4 import BeautifulSoup as bs
import csv
import time

new_list = []
for i in range(len(itemCode)):
    try:
        url = 'https://smartstore.naver.com/kndigitalstore/products/' + itemCode[i]

        res = requests.get(url)
        soup = bs(res.text, 'html.parser')

        elem = soup.find('div', class_='_2tT_gkmAOr _3CdGr9Fejo')
        img = elem.find('img')['src']
        # print(img)
        #list_test csv파일로 저장
        with open('img_save.csv', 'a', newline='', encoding='utf-8-sig') as f:
            write = csv.writer(f)
            write.writerows([[itemCode[i], img]])
    except:
        #list_test csv파일로 저장
        with open('img_save.csv', 'a', newline='', encoding='utf-8-sig') as f:
            write = csv.writer(f)
            write.writerows([[itemCode[i], 'error']])

    print(f'{i+1}/{len(itemCode)}')
    time.sleep(3)



<!DOCTYPE html>
<html>
<head>
  <title>CSV Fetch Example</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0"></script>
</head>
<body>
  <table id="data-table"></table>

  <script>
    axios.get('brand_1.csv')
      .then(response => {
        const csvData = response.data;
        const parsedData = Papa.parse(csvData, { header: true }); // CSV 데이터 파싱

        const dataArray = parsedData.data;
        const headerList = ['', '가격', '날짜','브랜드','상품주소','상품명','배송상태','시간']; // 임의로 헤더 리스트 지정

        // 테이블 생성
        const table = document.getElementById('data-table');

        // 테이블 헤더 생성
        const tableHeader = document.createElement('thead');
        const headerRow = document.createElement('tr');
        headerList.forEach(header => {
          const th = document.createElement('th');
          th.textContent = header;
          headerRow.appendChild(th);
        });
        tableHeader.appendChild(headerRow);
        table.appendChild(tableHeader);

        // 테이블 데이터 생성
        const tableBody = document.createElement('tbody');
        dataArray.forEach(data => {
          const row = document.createElement('tr');
          Object.values(data).forEach(value => {
            const cell = document.createElement('td');
            cell.textContent = value;
            row.appendChild(cell);
          });
          tableBody.appendChild(row);
        });
        table.appendChild(tableBody);
      })
      .catch(error => {
        console.error(error);
      });
  </script>
</body>
</html>
